<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE xml>

<xml>
	<application>
		<default_character_encoding>UTF-8</default_character_encoding>
		<default_page>index</default_page>
		<default_extension>html</default_extension>
		<auto_routing>1</auto_routing>
		<paths>
			<controllers>application/controllers</controllers>
			<wrappers>application/wrappers</wrappers>
			<views>application/views</views>
			<listeners>application/listeners</listeners>
			<compilations>
				<local>{COMPILATIONS_PATH}</local>
			</compilations>
		</paths>
		<secret_key>{SECRET_KEY}</secret_key>
		<environments>
			<local>{SERVER_NAME}</local>
		</environments>
	</application>
	<listeners>
		<listener class="EnvironmentDetector"/>
		<listener class="SQLDataSourceInjector"/>
		<listener class="NoSQLDataSourceInjector"/>
		<listener class="SecurityListener"/>
		<listener class="ViewLanguageResolver"/>
	</listeners>
	<formats>
		<format extension="html" content_type="text/html" class="BypassWrapper"/>
		<format extension="json" content_type="application/json" class="JsonWrapper"/>
	</formats>
	<servers>
		<sql>
			<local>
				<server>
					<driver>{SQL_VENDOR}</driver>
					<host>{HOST_NAME}</host>
					<port>{HOST_PORT}</port>
					<username>{USERNAME}</username>
					<password>{PASSWORD}</password>
					<schema>{SCHEMA}</schema>
				</server>
			</local>
		</sql>
	</servers>
	<security>
		<authentication>
			<form dao="{CLASS_PATH}">
				<login parameter_username="" parameter_password="" page="{LOGIN_URL}" target="{PAGE_AFTER_LOGIN}" rememberMe="true|false"/>
				<logout page="{LOGOUT_URL}" target="{PAGE_AFTER_LOGOUT}"/>
			</form>
			<oauth2 dao="{CLASS_PATH}">
				<driver name="facebook" page="{LOGIN_URL}" target="{PAGE_AFTER_LOGIN}">
					<app_id>{APPLICATION_ID}</app_id>
					<app_secret>{APPLICATION_SECRET}</app_secret>
					<callback_url>{URL_OF_PAGE_TO_RECEIVE_AUTHORIZATION_CODE}</callback_url>
					<scopes>{OPTIONAL|DEFAULTS_TO_USERINFO_SCOPE}</scopes>
				</driver>
				<driver name="google" page="{LOGIN_URL}" target="{PAGE_AFTER_LOGIN}">
					<app_id>{APPLICATION_ID}</app_id>
					<app_secret>{APPLICATION_SECRET}</app_secret>
					<callback_url>{URL_OF_PAGE_TO_RECEIVE_AUTHORIZATION_CODE}</callback_url>
					<scopes>{OPTIONAL|DEFAULTS_TO_USERINFO_SCOPE}</scopes>
				</driver>
			</oauth2>
		</authentication>
		<persistence>
			<session parameter_name="..." expiration_time="0" http_only="0" https_only="0" handler="{CLASS_PATH}" save_path="{SAVE_PATH}"/>
			<token expirationTime="0" regenerationTime="0"/>
			<rememberMe parameter_name="..."  expiration_time="0" http_only="0" https_only="0"/>
		</persistence>
		<authorization callbackLoggedIn="{PAGE_URL}" callbackLoggedOut="{PAGE_URL}">
			<by_route/>
			<by_dao pages_dao="{CLASS_PATH}" users_dao="{CLASS_PATH}" />
		</authorization>
	</security>
	<errors>
		<local>
			<reporters>
				<file path="{FILE_PATH}" rotation="{ROTATION_PATTERN}"/>
				<syslog application="{APPLICATION_NAME}"/>
				<sql table="{TABLE_NAME}" server="{SERVER_NAME}" rotation="{ROTATION_PATTERN}"/>
				<nosql parameter="{PARAMETER_NAME}" server="{SERVER_NAME}" rotation="{ROTATION_PATTERN}"/>
			</reporters>
			<renderer>
				<{extension} class="" file=""/>
			</renderer>
		</local>
	</errors>
</xml>